<mxfile host="app.diagrams.net" modified="2024-01-04T15:31:23.597Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="lEow_ck7YPsNtNG9t7vw" version="22.1.11" type="github" pages="2">
  <diagram name="第 1 页" id="8CvfT89nT_5VYqTPHmcH">
    <mxGraphModel dx="573" dy="1539" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-1" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;prover_polynomial 函数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1.拼接成76BYte数据，作为输入&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.hash_to_polynamial 转换成polynomial&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;3. degree = epoch_chanlledge.degree()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1305" y="62" width="299" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-2" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="92Fh8IhBHXsOxB5fZ5Yl-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1175" y="92" as="sourcePoint" />
            <mxPoint x="1415" y="162" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-3" value="矿池下发：&lt;br&gt;epoch_chanlledge.epoch_num 4Byte&lt;br&gt;epoch_chanlledge.epoch_block_hash 32Byte&lt;br&gt;address 32Byte&lt;br&gt;nonce 8Byte" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1031" y="32" width="270" height="90" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-4" value="polynomial_evaluations=pk.product_domain.in_order_fft_with_pc &lt;br&gt;将polynomial 转成FFT （NTT?）" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="1305" y="160" width="375" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-11" value="bob 500" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="130" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-12" value="alice 100" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="130" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-13" value="jack 30" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="130" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-14" value="..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="850" y="130" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-20" value="commitment HASH" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="720" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-11" target="92Fh8IhBHXsOxB5fZ5Yl-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610" y="280" as="sourcePoint" />
            <mxPoint x="660" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-12" target="92Fh8IhBHXsOxB5fZ5Yl-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="675" y="200" as="sourcePoint" />
            <mxPoint x="790" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-13" target="92Fh8IhBHXsOxB5fZ5Yl-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="745" y="200" as="sourcePoint" />
            <mxPoint x="790" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-14" target="92Fh8IhBHXsOxB5fZ5Yl-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="815" y="200" as="sourcePoint" />
            <mxPoint x="790" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-25" value="Mike 800" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="660" y="610" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-26" value="proof Hash" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="822.5" y="810" width="125" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-27" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;P:&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="981" y="820" width="50" height="40" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-29" value="Pairing" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="920" width="125" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-30" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;V:&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="630" y="930" width="50" height="40" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-31" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-25" target="92Fh8IhBHXsOxB5fZ5Yl-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="660" as="sourcePoint" />
            <mxPoint x="730" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-32" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-26" target="92Fh8IhBHXsOxB5fZ5Yl-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="740" y="550" as="sourcePoint" />
            <mxPoint x="792" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-20" target="92Fh8IhBHXsOxB5fZ5Yl-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="847" y="550" as="sourcePoint" />
            <mxPoint x="792" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-38" value="product_evaluations=pk.product_domain.mul_polynomial_in_evaluation_domin&lt;br&gt;(polynomial_evaluations1,plynocmail_evaluations2))&lt;br&gt;将生成的多项式和接收到的多项式相乘" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="260" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-39" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="92Fh8IhBHXsOxB5fZ5Yl-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="290" as="sourcePoint" />
            <mxPoint x="1190" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-40" value="矿池下发数据中：&lt;br&gt;epoch_chanlledge.epoch_polynomial_evaluations().evaluations" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="961" y="250" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-41" value="comittment=KZG10::comit_lagrange(product_evaluations);&lt;br&gt;将相乘后的多项式用comit_larrange运算出commitment，" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#99FF99;" parent="1" vertex="1">
          <mxGeometry x="1305" y="370" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-42" value="将adress, nonce, comittment 打包进partial_solution 并检查commitment 难度&lt;br&gt;难度不符，退出prove 函数？" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="480" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-43" value="commitment serialize_uncompressed 输出96 byte数据&lt;br&gt;用blake2b512 算出hash&lt;br&gt;转成曲线上一个点？？ point, 这个点是随机的。" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="600" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-44" value="epoch_chanlledge.epoch_polynomial().evaluation(point) * polynomial.evaluation(point)&lt;br&gt;计算2个多项式在这个点point 的乘积" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="710" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="92Fh8IhBHXsOxB5fZ5Yl-44" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1150" y="740" as="sourcePoint" />
            <mxPoint x="1220" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-46" value="prove=KZG10::open_lagrange(product_evaluations, point, product_eval_at_point);&lt;br&gt;利用product_evaluations, point, product_eval_at_point, 用 open_lagrage算出proof" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#009900;" parent="1" vertex="1">
          <mxGeometry x="1305" y="820" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-47" value="提交prove之前用check函数验证正确性&lt;br&gt;KZG10::check(pk.verifying_key, commitment,point,product_eval_at_point, proof)" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="920" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="92Fh8IhBHXsOxB5fZ5Yl-48" value="提交partial_solution 和prove" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1305" y="1030" width="605" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iacUFrKcLT15i08zZKQb-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="92Fh8IhBHXsOxB5fZ5Yl-1" target="iacUFrKcLT15i08zZKQb-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1830" y="90" as="sourcePoint" />
            <mxPoint x="1880" y="40" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iacUFrKcLT15i08zZKQb-2" value="hash[32*8bits]= blake2s256(input);&lt;br&gt;loop num_coefficients :&amp;nbsp; &amp;nbsp;blake2s512({counter[4*8bits],hash[8*32bits]}) 是否有前后依赖关系？？&lt;br&gt;&lt;div style=&quot;color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; line-height: 19px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;from_bytes_le_mod_order() 求余，将512bits 缩减到F域质数bits，387bits？？&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="2000" y="-70" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iacUFrKcLT15i08zZKQb-3" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;hash_to_coefficients:&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2000" y="-100" width="150" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BnFsG5v6NAGvHh-g6WUD" name="第 2 页">
    <mxGraphModel dx="1002" dy="647" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
